<div class="row mb-4">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">
              <i class="fa fa-search"></i>
            </span>
          </div>
          <input [(ngModel)]="searchInput" (keyup.enter)="searchCar()" type="text" class="form-control" placeholder="Search" aria-label="Username" aria-describedby="basic-addon1">
          <div class="input-group-append" (click)="clearSearch()">
            <span class="input-group-text" id="basic-addon1">
              <i class="fa fa-times"></i>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-3">
    <app-drawer [brandNames]="carBrands"></app-drawer>
  </div>
  <div class="col-9">
    <div class="row mb-3">
      <div class="col-12 text-right border-bottom pb-3">
        <i class="fa fa-th-large fa-2x" (click)="toggleCarDisplay()" *ngIf="!displayMode"></i>
        <i class="fa fa-bars fa-2x" (click)="toggleCarDisplay()" *ngIf="displayMode"></i>
      </div>
    </div>
    <div class="card-container" *ngIf="displayMode">
      <div class="col-12">
        <div class="row">
          <div class="col-12" *ngIf="!filterCarList.length">
            <p>No Cars available!</p>
          </div>
          <div class="col-4" *ngFor="let car of filterCarList; let i = index">
            <div class="card"> <!-- [ngClass]="{'bg-dark text-light': !(i%2), 'bg-primary': i%2}" -->
              <img [src]="car.image_car" class="card-img-top card-image-height" [alt]="car.name"/>
              <div class="card-body">
                <h4 [tooltip]="carTooltip">{{ car.name }}</h4>
                <ng-template #carTooltip>
                  <p>Body Type: <strong>{{ car.body_type }}</strong></p>
                  <p>Price: <strong>{{ car.currency }} {{ car.price }}</strong></p>
                </ng-template>
                <p class="card-text">{{ car.desc_excerpt }}</p>
                <app-modal [car] = "car"></app-modal>
                <a [routerLink]="['/car', car.slug]" class="btn btn-sm btn-outline-info mr-2">
                  <i class="fa fa-pencil"></i>
                </a>
                <a class="btn btn-sm btn-outline-danger" (click)="deleteCurrentCar(car._id)">
                  <i class="fa fa-trash" [ngClass]="{'fa-times text-danger': !(i%2), 'fa-trash': i%2}"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="table-container" *ngIf="!displayMode">
      <table class="table table-dark">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Transmission</th>
            <th scope="col">Price</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let car of CarList; let i = index">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ car.name }}</td>
            <td>{{ car.transmission }}</td>
            <td>{{ car.price }}</td>
            <td>
              <button class="btn btn-info" [routerLink]="['/car', car.slug]">View</button>
              <button class="btn btn-danger" (click)="deleteCurrentCar(car._id)" >Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
</div>
<!-- <ng-template #template>
  <div class="modal-body text-center">
    <p>Do you want to Delete {{ car.name }}?</p>
    <button type="button" class="btn btn-default" (click)="deleteCurrentCar(car._id)" >Yes</button>
    <button type="button" class="btn btn-primary" (click)="declineCarDeletion()" >No</button>
  </div>
</ng-template> -->
